/* Light & dark theme variables. User override (via data-theme) takes priority over system. */
:root {
  color-scheme: light dark;

  /* --- Refined Premium Palette --- */
  --palette-ivory: #FAF2EA;
  --palette-ink: #392E2C;
  --palette-amber: #FF8C42; /* Vibrant technical accent */
  --palette-amber-rgb: 255, 140, 66;
  --palette-slate: #5D636E;
  --palette-cloud: #E8EBF2;
  
  /* Light Theme Mappings */
  --surface-900: var(--palette-ivory);
  --surface-800: #ffffff;
  --surface-card: #ffffff;
  --surface-card-border: rgba(57, 46, 44, 0.08);
  
  --surface-overlay: rgba(250, 242, 234, 0.85);
  --surface-overlay-muted: rgba(57, 46, 44, 0.04);
  
  /* Text */
  --text-primary: var(--palette-ink);
  --text-muted: #6B7A8F;
  --text-on-accent: #ffffff;

  /* Accents */
  --accent-300: #FFB385;
  --accent-400: #FF9F61;
  --accent-500: var(--palette-amber);
  --accent-500-rgb: var(--palette-amber-rgb);

  --border-soft: rgba(57, 46, 44, 0.1);
  --border-strong: rgba(57, 46, 44, 0.18);

  --shadow-sm: 0 2px 4px rgba(57, 46, 44, 0.04);
  --shadow-md: 0 12px 24px -8px rgba(57, 46, 44, 0.12);
  --shadow-lg: 0 24px 48px -12px rgba(57, 46, 44, 0.18);
  --shadow-card: 0 32px 64px -16px rgba(57, 46, 44, 0.08);

  --gradient-hero: linear-gradient(135deg, #FAF2EA 0%, #F5E8DD 100%);
  --hero-texture-color: rgba(57, 46, 44, 0.03);
  --hero-surface: var(--palette-ivory);
  --hero-border: rgba(57, 46, 44, 0.06);

  --section-muted-bg: #F4EBE3;
  --section-muted-border: rgba(57, 46, 44, 0.06);

  --header-shadow: 0 4px 20px -5px rgba(57, 46, 44, 0.08);
}

html[data-theme='dark'] {
  color-scheme: dark;

  /* --- Refined Dark Mode (Rich & Deep) --- */
  --palette-ink: #1E1A19; /* Deep Mahogany/Charcoal base */
  --palette-ink-rgb: 30, 26, 25;
  
  --surface-900: var(--palette-ink);
  --surface-800: #262120;
  --surface-card: #2C2726;
  --surface-card-border: rgba(255, 255, 255, 0.08);
  
  --surface-overlay: rgba(30, 26, 25, 0.85);
  --surface-overlay-muted: rgba(255, 255, 255, 0.04);

  /* Text */
  --text-primary: #FAF2EA;
  --text-muted: #A39B99;
  --text-on-accent: var(--palette-ink);

  /* Accents */
  --accent-300: #FFBD94;
  --accent-500: var(--palette-amber);
  --accent-500-rgb: var(--palette-amber-rgb);

  --border-soft: rgba(255, 255, 255, 0.1);
  --border-strong: rgba(255, 255, 255, 0.18);

  --shadow-card: 0 32px 64px -16px rgba(0, 0, 0, 0.5);
  --shadow-lg: 0 24px 48px -12px rgba(0, 0, 0, 0.4);

  --gradient-hero: radial-gradient(circle at 50% 0%, #2C2726 0%, var(--palette-ink) 100%);
  --hero-texture-color: rgba(255, 140, 66, 0.04);
  
  /* --- Glassmorphism --- */
  --glass-bg: rgba(44, 39, 38, 0.7);
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-blur: blur(12px);

  --section-muted-bg: #262120;
}

html[data-theme='dark'] .contact__form input,
html[data-theme='dark'] .contact__form textarea {
  background-color: rgba(255, 255, 255, 0.05);
  border-color: rgba(255, 255, 255, 0.1);
  color: var(--text-primary);
}

html[data-theme='dark'] .project-card__media img {
  opacity: 0.9;
}

html[data-theme='light'] {
  color-scheme: light;
}

@media (prefers-color-scheme: dark) {
  :root:not([data-theme]) {
    /* Duplicate Dark Theme Mappings for system pref */
    --surface-900: var(--palette-charcoal);
    --surface-800: #353633;
    --surface-card: #4E504C;
    --text-primary: #F0F4F1;
    --text-muted: #B8CBD0;
    --primary: var(--palette-mint);
    --border-soft: rgba(255, 255, 255, 0.15);
    --border-strong: rgba(255, 255, 255, 0.25);
    --bg: var(--surface-900);
    --surface: var(--surface-card);
    --text: var(--text-primary);
    --muted: var(--text-muted);
    --primary-ink: var(--text-on-accent);
    --border: var(--border-soft);
    --badge-bg: rgba(201, 227, 204, 0.15);
    --badge-color: var(--palette-mint);
    
    /* Ensure missing vars are covered */
    --surface-overlay: rgba(66, 67, 64, 0.9);
    --hero-surface: var(--surface-900);
    --section-muted-bg: #3B3C39;
    --section-muted-border: var(--border-soft);
  }
}
